<!DOCTYPE html>
<html>

<head>
	<title></title>

	<link rel="stylesheet" href="homepage.css">

	<style type="text/css">
		#canvas-container {
			/*display: none;*/
			opacity: 0;
			transition: opacity 2s;
		}
	</style>

</head>

<body>

	<label for="raio">raio</label>
	<input type="text" id="radius" name="radius"><br><br>

	<label for="raio">remetente</label>
	<input type="text" id="rem" name="remetente"><br><br>

	<label for="raio">destinatario</label>
	<input type="text" id="dest" name="destinatario"><br><br>

	<label for="raio">mensagem</label>
	<input type="text" id="texto" name="texto"><br><br>

	<button type="button" id="btn">draw</button><br><br>


	<div id="canvas-container">
		<div>
</body>

<script src="javascript-lemmatizer/bower_components/underscore/underscore.js"></script>
<script src="javascript-lemmatizer/js/lemmatizer.js"></script>
<script src="javascript-lemmatizer/bower_components/jquery/dist/jquery.js"></script>
<script src="https://cdn.jsdelivr.net/npm/p5@1.3.1/lib/p5.js"></script>
<script src="https://unpkg.com/rita"></script>
<script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
<script src="generation.js"></script>
<script src="seasons.js"></script>

<script type="text/javascript">

	let radius = "";
	let rem = "";
	let dest = "";
	let texto = "";
	const epoca = season(new Date(), seasons);

	let dt = new Date();
	let time = dt.getDate() + " / " +
		(dt.getMonth() + 1) + " / " +
		dt.getFullYear();

	function processRita(t) {
		//divide Ã© um array? como diz no inspect?
		let rt = RiTa.tokenize(t);
		return rt;
	}

	/*function processLemma(l) {

		var lemmatizer = new Lemmatizer();
		lemmatizer.lemmas(l);
		console.log(lemmatizer);
	}*/


	function processMsg(ra, r, d, t) {
		//call rita
		processRita(t);
		//processLemma();

		let split_text  = splitTokens(t, [',', ' ', '.', '!', '?']);
		processNRC(split_text);

		processColor(epoca, r, g, b);
		updateCard(ra, r, d, t, time, epoca);

		/*$('#canvas-container').css("display","block");*/
		$('#canvas-container').css("opacity", 1);

	}


	$("#btn").click(function() {

		radius = $("#radius").val();
		rem = $("#rem").val();
		dest = $("#dest").val();
		texto = $("#texto").val();

		processMsg(radius, 'from ' + rem, 'dear ' + dest, texto);
	});

</script>

</html>
